<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>点击气球小游戏</title>
<style>
/* 1. 全局美化 */
*{margin:0;padding:0;box-sizing:border-box;font-family:"Segoe UI",Arial,Helvetica,sans-serif}
body{background:linear-gradient(135deg,#74ebd5 0%,#9face6 100%);display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;color:#fff}

/* 2. 标题 */
h1{font-size:2.5rem;letter-spacing:2px;margin-bottom:20px;text-shadow:0 3px 8px rgba(0,0,0,.25)}

/* 3. 游戏区域 */
#gameArea{width:90vw;height:70vh;border-radius:20px;background:rgba(255,255,255,.15);box-shadow:0 8px 32px rgba(31,38,135,.37);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.18);position:relative;overflow:hidden}

/* 4. 自定义气球（你的图片） */
.balloon{
    position:absolute;
    width:80px;height:80px;
    background:url('my-balloon.png') center/contain no-repeat;
    cursor:pointer;
    filter:drop-shadow(0 4px 6px rgba(0,0,0,.2));
    transition:transform .15s;
}
.balloon:hover{transform:scale(1.15) rotate(8deg)}

/* 5. 得分板 */
#scoreBoard{
    margin-top:20px;
    background:rgba(255,255,255,.25);
    padding:15px 35px;
    border-radius:15px;
    backdrop-filter:blur(8px);
    box-shadow:0 4px 15px rgba(0,0,0,.2);
    text-align:center
}
#scoreBoard h2{margin:.2em 0;font-size:1.6rem}
#scoreBoard p{margin:.5em 0;font-size:1.1rem}

/* 6. 按钮 */
#startBtn{
    padding:10px 35px;
    font-size:1.1rem;
    border:none;
    border-radius:50px;
    background:#fff;
    color:#7b68ee;
    cursor:pointer;
    box-shadow:0 4px 15px rgba(0,0,0,.2);
    transition:all .3s
}
#startBtn:hover{background:#7b68ee;color:#fff;transform:translateY(-2px)}

/* 7. 游戏结束弹窗 */
.gameOver{
    position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);
    background:rgba(255,255,255,.95);
    padding:45px 60px;
    border-radius:20px;
    text-align:center;
    box-shadow:0 8px 30px rgba(0,0,0,.25);
    color:#333
}
.gameOver button{
    margin-top:15px;
    padding:10px 30px;
    border:none;
    border-radius:50px;
    background:#7b68ee;
    color:#fff;
    cursor:pointer;
    font-size:1rem
}
</style>
</head>
<body>
    <h1>点击气球小游戏</h1>
    
    <div id="gameArea"></div>
    
    <div id="scoreBoard">
        <h2>得分: <span id="score">0</span></h2>
        <p>剩余时间: <span id="time">30</span> 秒</p>
        <button id="startBtn" onclick="startGame()">开始游戏</button>
    </div>

    <div class="gameOver" id="gameOver">
        <h2>游戏结束！</h2>
        <p>最终得分: <span id="finalScore">0</span></p>
        <button onclick="resetGame()">再玩一次</button>
    </div>

    <script>
        let score = 0;
        let timeLeft = 30;
        let gameActive = false;
        let balloonInterval;
        let timerInterval;

        const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FECA57', '#FF9FF3', '#54A0FF'];
        const gameArea = document.getElementById('gameArea');
        const scoreDisplay = document.getElementById('score');
        const timeDisplay = document.getElementById('time');

        function createBalloon() {
            const balloon = document.createElement('div');
            balloon.className = 'balloon';
            
            // 随机颜色
            const color = colors[Math.floor(Math.random() * colors.length)];
            balloon.style.backgroundColor = color;
            
            // 随机位置
            const x = Math.random() * (gameArea.offsetWidth - 60);
            const y = Math.random() * (gameArea.offsetHeight - 100);
            balloon.style.left = x + 'px';
            balloon.style.top = y + 'px';
            
            // 点击事件
            balloon.addEventListener('click', () => {
                if (!gameActive) return;
                
                score += 10;
                scoreDisplay.textContent = score;
                
                // 爆炸动画
                balloon.style.animation = 'pop 0.3s ease-out forwards';
                setTimeout(() => balloon.remove(), 300);
                
                // 播放爆炸音效（使用Web Audio API生成）
                playPopSound();
            });
            
            gameArea.appendChild(balloon);
            
            // 3秒后自动消失
            setTimeout(() => {
                if (balloon.parentNode) {
                    balloon.remove();
                }
            }, 3000);
        }

        function playPopSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.1);
        }

        function startGame() {
            score = 0;
            timeLeft = 30;
            gameActive = true;
            
            scoreDisplay.textContent = score;
            timeDisplay.textContent = timeLeft;
            
            document.getElementById('startBtn').style.display = 'none';
            document.getElementById('gameOver').style.display = 'none';
            
            // 清除所有气球
            gameArea.innerHTML = '';
            
            // 开始生成气球
            balloonInterval = setInterval(() => {
                if (Math.random() > 0.3) {
                    createBalloon();
                }
            }, 800);
            
            // 倒计时
            timerInterval = setInterval(() => {
                timeLeft--;
                timeDisplay.textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        function endGame() {
            gameActive = false;
            clearInterval(balloonInterval);
            clearInterval(timerInterval);
            
            document.getElementById('finalScore').textContent = score;
            document.getElementById('gameOver').style.display = 'block';
            document.getElementById('startBtn').style.display = 'inline-block';
            
            // 清除所有气球
            gameArea.innerHTML = '';
        }

        function resetGame() {
            endGame();
            startGame();
        }

        // 防止右键菜单
        gameArea.addEventListener('contextmenu', e => e.preventDefault());
    </script>
</body>
</html>